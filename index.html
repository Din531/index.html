<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Political Science Subject Specialist Preparation Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f8ff; /* Alice Blue */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 700px;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .header {
            color: #4682b4; /* Steel Blue */
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .contact-info {
            color: #6a5acd; /* Slate Blue */
            font-size: 1rem;
            margin-bottom: 5px;
        }
        .plato-philosophy {
            color: #483d8b; /* Dark Slate Blue */
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        .input-group {
            margin-bottom: 15px;
            text-align: left;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #5f9ea0; /* Cadet Blue */
        }
        .input-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #add8e6; /* Light Blue */
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
            color: #333;
        }
        .btn {
            background-color: #87cefa; /* Light Sky Blue */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background-color 0.3s ease;
        }
        .btn:hover {
            background-color: #6495ed; /* Cornflower Blue */
        }
        .quiz-section {
            display: none;
            text-align: left;
        }
        .question-container {
            background-color: #e0ffff; /* Light Cyan */
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .question-text {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2f4f4f; /* Dark Slate Gray */
            margin-bottom: 15px;
        }
        .options-container button {
            display: block;
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid #b0e0e6; /* Powder Blue */
            border-radius: 8px;
            background-color: #f0faff; /* Light Cyan */
            text-align: left;
            cursor: pointer;
            font-size: 1rem;
            color: #333;
            transition: background-color 0.2s ease, border-color 0.2s ease;
        }
        .options-container button:hover {
            background-color: #e6f7ff; /* Lighter Cyan */
            border-color: #87cefa; /* Light Sky Blue */
        }
        .options-container button.correct {
            background-color: #90ee90; /* Light Green */
            border-color: #3cb371; /* Medium Sea Green */
            color: #228b22; /* Forest Green */
        }
        .options-container button.wrong {
            background-color: #ffb6c1; /* Light Pink */
            border-color: #ff6347; /* Tomato */
            color: #b22222; /* Firebrick */
        }
        .timer {
            font-size: 1.1rem;
            font-weight: bold;
            color: #dc143c; /* Crimson */
            margin-bottom: 15px;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .result-section {
            display: none;
            text-align: center;
        }
        .result-section h2 {
            color: #4682b4;
            font-size: 2rem;
            margin-bottom: 15px;
        }
        .result-section p {
            font-size: 1.2rem;
            color: #2f4f4f;
            margin-bottom: 10px;
        }
        .message-box {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
        }
        .message-box p {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 20px;
        }
        .message-box button {
            background-color: #87cefa;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        .message-box button:hover {
            background-color: #6495ed;
        }
    </style>
</head>
<body>
    <div class="container rounded-xl">
        <div id="login-screen">
            <h1 class="header">Political Science Subject Specialist Preparation Quiz</h1>
            <p class="contact-info">Contact Number: 03188185185</p>
            <p class="plato-philosophy"><b>Plato’s Philosophy</b></p>

            <div class="input-group">
                <label for="user-id">ID:</label>
                <input type="text" id="user-id" placeholder="Enter your ID">
            </div>
            <div class="input-group">
                <label for="password">Password:</label>
                <input type="password" id="password" placeholder="Enter your Password">
            </div>
            <div class="input-group">
                <label for="candidate-name">Candidate Name:</label>
                <input type="text" id="candidate-name" placeholder="Enter your name">
            </div>
            <button class="btn rounded-lg" id="start-quiz-btn">Start Quiz</button>
        </div>

        <div id="quiz-screen" class="quiz-section">
            <div class="timer" id="timer">Time Left: 20:00</div>
            <div class="question-container rounded-lg">
                <p class="question-text" id="question-text"></p>
                <div class="options-container" id="options-container">
                    <!-- Options will be loaded here by JavaScript -->
                </div>
            </div>
            <div class="navigation-buttons">
                <button class="btn rounded-lg" id="prev-btn" style="display: none;">Previous</button>
                <button class="btn rounded-lg" id="next-btn">Next</button>
                <button class="btn rounded-lg" id="submit-quiz-btn" style="display: none;">Submit Quiz</button>
            </div>
        </div>

        <div id="result-screen" class="result-section">
            <h2>Quiz Result</h2>
            <p>Candidate: <span id="result-candidate-name"></span></p>
            <p>Score: <span id="score"></span> / <span id="total-questions"></span></p>
            <p>Percentage: <span id="percentage"></span>%</p>
            <p id="time-taken"></p>
        </div>
    </div>

    <div id="message-box" class="message-box rounded-lg">
        <p id="message-text"></p>
        <button id="message-ok-btn" class="rounded-lg">OK</button>
    </div>

    <script>
        // Quiz data based on the provided document content
        const quizData = [
            // 5% from early life (2 questions)
            {
                question: "Plato was born into what kind of family?",
                options: ["Poor", "Artisan", "Aristocratic", "Merchant"],
                answer: "Aristocratic",
                category: "early_life"
            },
            {
                question: "What was Plato's primary career aspiration in his early life?",
                options: ["Military leader", "Public service", "Philosopher", "Artist"],
                answer: "Public service",
                category: "early_life"
            },
            // 5% from philosopher's work or writings (2 questions)
            {
                question: "Which of Plato's works is considered a foundation for his later great work and discusses the ideal state?",
                options: ["Apology", "Crito", "Protagoras", "Republic"],
                answer: "Republic",
                category: "works"
            },
            {
                question: "Plato's 'The Republic' is primarily a major contribution to which philosophical field?",
                options: ["Epistemology", "Metaphysics", "Political Philosophy", "Ethics"],
                answer: "Political Philosophy",
                category: "works"
            },
            // 10% from quotations (4 questions)
            {
                question: "Which concept did Plato believe was the basic tenet of Socratic thought, as mentioned in the text?",
                options: ["Justice is power", "Virtue is knowledge", "Might makes right", "Happiness is pleasure"],
                answer: "Virtue is knowledge",
                category: "quotations"
            },
            {
                question: "According to Plato, what is the 'good' for 'truth'?",
                options: ["Pleasure", "Utility", "Justice", "Enlightenment"],
                answer: "Enlightenment", // Inferred from "The last is the ultimate 'n formal instruction. Here first principles are explored, and the search for the 'good'—for 'truth'—is launched."
                category: "quotations"
            },
            {
                question: "Plato believed that education should be a process of turning the soul towards what?",
                options: ["Wealth", "Power", "Truth and reality", "Social status"],
                answer: "Truth and reality", // Inferred from the educational plan in Republic
                category: "quotations"
            },
            {
                question: "Plato's view on democracy, as implied in the text, is that it is a system issuing from the lust for what?",
                options: ["Freedom", "Order", "Equality", "Justice"],
                answer: "Freedom",
                category: "quotations"
            },
            // Remaining 80% from philosophy/ideas (32 questions)
            {
                question: "Plato's early political career was disrupted by the condemnation and execution of which philosopher?",
                options: ["Aristotle", "Socrates", "Thales", "Pythagoras"],
                answer: "Socrates",
                category: "philosophy"
            },
            {
                question: "Plato's belief that 'Socrates' attacks upon democracy had been justified implies his view on what?",
                options: ["Democracy", "Tyranny", "Monarchy", "Oligarchy"],
                answer: "Democracy",
                category: "philosophy"
            },
            {
                question: "Plato abandoned Athenian politics to travel and learn, eventually focusing on building a philosophy that would hold the interest of scholars and statesmen through the ages. What was a key reason for this abandonment?",
                options: ["Lack of personal ambition", "Dissatisfaction with the political system", "Financial difficulties", "Desire for adventure"],
                answer: "Dissatisfaction with the political system",
                category: "philosophy"
            },
            {
                question: "Plato's wanderings in Southern Italy led him to study the doctrines of which mystic group?",
                options: ["Stoics", "Epicureans", "Pythagorean society", "Sophists"],
                answer: "Pythagorean society",
                category: "philosophy"
            },
            {
                question: "Plato likely received instruction in mathematics in which ancient civilization?",
                options: ["Greece", "Rome", "Egypt", "Persia"],
                answer: "Egypt",
                category: "philosophy"
            },
            {
                question: "Which of the following is NOT one of Plato's later dialogues mentioned as a foundation for his great work?",
                options: ["Apology", "Crito", "Statesman", "Laws"],
                answer: "Apology", // Apology is an early dialogue
                category: "philosophy"
            },
            {
                question: "Plato's 'The Republic' discusses the nature of the state and the ideal form of government. What is the central theme of 'The Republic'?",
                options: ["Justice", "Liberty", "Equality", "Fraternity"],
                answer: "Justice",
                category: "philosophy"
            },
            {
                question: "In 'The Republic', Plato argues that justice in the state is the interest of whom?",
                options: ["The strongest", "The weakest", "The ruling class", "The entire community"],
                answer: "The entire community", // While Thrasymachus argues for the strongest, Plato refutes this.
                category: "philosophy"
            },
            {
                question: "Plato's philosophy emphasizes the importance of a well-ordered society. What is the role of the philosopher-kings in his ideal state?",
                options: ["To accumulate wealth", "To rule based on wisdom and knowledge", "To serve the military", "To entertain the citizens"],
                answer: "To rule based on wisdom and knowledge",
                category: "philosophy"
            },
            {
                question: "What is the primary purpose of education in Plato's ideal state?",
                options: ["To prepare citizens for war", "To develop individual talents", "To train individuals for specific economic roles", "To turn the soul towards truth and reality"],
                answer: "To turn the soul towards truth and reality",
                category: "philosophy"
            },
            {
                question: "Plato's educational plan in 'The Republic' includes elementary training for citizens up to what age?",
                options: ["10", "15", "18", "20"],
                answer: "20",
                category: "philosophy"
            },
            {
                question: "After elementary training, what is the next stage of education for those pursuing higher studies in Plato's plan?",
                options: ["Military training", "Artistic training", "Vocational training", "Philosophical training"],
                answer: "Military training",
                category: "philosophy"
            },
            {
                question: "What is the sole criterion for determining a citizen's station in Plato's educational system?",
                options: ["Family background", "Wealth", "Educational attainment", "Physical strength"],
                answer: "Educational attainment",
                category: "philosophy"
            },
            {
                question: "Plato's educational curriculum includes gymnastics and music. What is the purpose of music in this context?",
                options: ["To provide entertainment", "To develop physical fitness", "To develop the soul's sound physique", "To train for military bands"],
                answer: "To develop the soul's sound physique",
                category: "philosophy"
            },
            {
                question: "What does Plato propose regarding censorship in his ideal state?",
                options: ["Complete freedom of expression", "No censorship at all", "Rigid system of censorship to ensure desirable social and political character", "Censorship only for political dissent"],
                answer: "Rigid system of censorship to ensure desirable social and political character",
                category: "philosophy"
            },
            {
                question: "Plato's concept of the 'philosopher-kings' is based on the idea that political power should be in the hands of those with what quality?",
                options: ["Physical strength", "Wealth", "Moral virtue and intellectual ability", "Popular support"],
                answer: "Moral virtue and intellectual ability",
                category: "philosophy"
            },
            {
                question: "What is Plato's view on private property in 'The Republic' for the guardians?",
                options: ["It is encouraged for all citizens", "It is strictly regulated but allowed", "It is abolished to prevent corruption", "It is a sign of success"],
                answer: "It is abolished to prevent corruption",
                category: "philosophy"
            },
            {
                question: "Plato's ideal state aims to prevent excessive individualism. What is one way he proposes to achieve this?",
                options: ["Promoting competition", "Encouraging private enterprise", "Community of wives and children", "Allowing free movement of wealth"],
                answer: "Community of wives and children",
                category: "philosophy"
            },
            {
                question: "What is Plato's view on the equality of women in his ideal state?",
                options: ["Women should be confined to domestic roles", "Women should have equal opportunities as men to perform the best of their ability", "Women are inferior to men in all aspects", "Women should only be educated for household duties"],
                answer: "Women should have equal opportunities as men to perform the best of their ability",
                category: "philosophy"
            },
            {
                question: "Plato believed that a just state would lead to what?",
                options: ["Economic prosperity", "Individual freedom", "Social harmony and stability", "Military dominance"],
                answer: "Social harmony and stability",
                category: "philosophy"
            },
            {
                question: "What is the ultimate goal of Plato's philosophy, particularly as outlined in 'The Republic'?",
                options: ["To achieve personal happiness", "To create a perfect society based on justice and reason", "To conquer other city-states", "To abolish all forms of government"],
                answer: "To create a perfect society based on justice and reason",
                category: "philosophy"
            },
            {
                question: "Plato's theory of Forms suggests that the physical world is merely a shadow of a higher, more real realm. What is this realm composed of?",
                options: ["Ideas or Forms", "Sensory experiences", "Human emotions", "Material objects"],
                answer: "Ideas or Forms",
                category: "philosophy"
            },
            {
                question: "According to Plato, what is the highest form of knowledge?",
                options: ["Opinion", "Belief", "Reason/Understanding of Forms", "Imagination"],
                answer: "Reason/Understanding of Forms",
                category: "philosophy"
            },
            {
                question: "What is the 'Allegory of the Cave' primarily used by Plato to illustrate?",
                options: ["The importance of physical exercise", "The nature of reality and enlightenment", "The dangers of political power", "The benefits of democracy"],
                answer: "The nature of reality and enlightenment",
                category: "philosophy"
            },
            {
                question: "Plato believed that the soul is composed of three parts: reason, spirit, and appetite. Which part should rule the others?",
                options: ["Spirit", "Appetite", "Reason", "All equally"],
                answer: "Reason",
                category: "philosophy"
            },
            {
                question: "In Plato's ideal state, which class corresponds to the 'reason' part of the soul?",
                options: ["Artisans", "Guardians (Philosopher-Kings)", "Auxiliaries (Soldiers)", "Farmers"],
                answer: "Guardians (Philosopher-Kings)",
                category: "philosophy"
            },
            {
                question: "Plato's political philosophy can be seen as a critique of which existing political system in Athens?",
                options: ["Monarchy", "Oligarchy", "Democracy", "Tyranny"],
                answer: "Democracy",
                category: "philosophy"
            },
            {
                question: "What is the ultimate good, according to Plato, that all individuals and the state should strive for?",
                options: ["Wealth", "Pleasure", "Justice", "Power"],
                answer: "Justice",
                category: "philosophy"
            },
            {
                question: "Plato argues that the decline of ideal states follows a progression. Which form of government is considered the first stage of degeneration from the ideal republic?",
                options: ["Oligarchy", "Democracy", "Timocracy", "Tyranny"],
                answer: "Timocracy",
                category: "philosophy"
            },
            {
                question: "What characterizes a timocracy in Plato's political degeneration theory?",
                options: ["Rule by the wealthy", "Rule by the honorable and ambitious", "Rule by the people", "Rule by a single tyrant"],
                answer: "Rule by the honorable and ambitious",
                category: "philosophy"
            },
            {
                question: "In Plato's view, what is the primary vice of an oligarchy?",
                options: ["Excessive freedom", "Lust for honor", "Lust for wealth", "Unrestrained desires"],
                answer: "Lust for wealth",
                category: "philosophy"
            },
            {
                question: "What is the defining characteristic of a democracy in Plato's eyes, which he views negatively?",
                options: ["Order", "Discipline", "Excessive freedom and license", "Justice"],
                answer: "Excessive freedom and license",
                category: "philosophy"
            },
            {
                question: "According to Plato, what is the final and worst stage of political degeneration?",
                options: ["Oligarchy", "Democracy", "Timocracy", "Tyranny"],
                answer: "Tyranny",
                category: "philosophy"
            },
            {
                question: "Plato's 'The Statesman' and 'The Laws' are considered later works that reflect a more pragmatic approach to politics. How do they differ from 'The Republic'?",
                options: ["They are more idealistic", "They are less concerned with law", "They are more moderate and less antagonistic towards democracy", "They focus solely on individual ethics"],
                answer: "They are more moderate and less antagonistic towards democracy",
                category: "philosophy"
            },
            {
                question: "In 'The Statesman', Plato discusses the role of a true ruler. What quality does he emphasize for this ruler?",
                options: ["Military might", "Economic power", "Knowledge and expertise", "Popularity"],
                answer: "Knowledge and expertise",
                category: "philosophy"
            },
            {
                question: "Plato's philosophy often involves the concept of 'forms' or 'ideas'. What is the relationship between the physical world and these forms?",
                options: ["The physical world is the only reality", "The physical world is a perfect reflection of the forms", "The physical world is an imperfect copy of the forms", "The forms are irrelevant to the physical world"],
                answer: "The physical world is an imperfect copy of the forms",
                category: "philosophy"
            },
            {
                question: "What is the main idea behind Plato's concept of the 'Noble Lie'?",
                options: ["To deceive the citizens for personal gain", "To maintain social order and stability by convincing citizens of a foundational myth", "To promote individual freedom", "To encourage rebellion against the state"],
                answer: "To maintain social order and stability by convincing citizens of a foundational myth",
                category: "philosophy"
            },
            {
                question: "Plato's theory of justice in the individual mirrors his theory of justice in the state. What does individual justice involve?",
                options: ["Each part of the soul performing its proper function in harmony", "Pursuing personal desires without restraint", "Accumulating as much wealth as possible", "Seeking power over others"],
                answer: "Each part of the soul performing its proper function in harmony",
                category: "philosophy"
            },
            {
                question: "What is the primary concern of Plato's 'Republic' regarding the education of the guardians?",
                options: ["To make them wealthy", "To make them physically strong only", "To cultivate their intellectual and moral virtues", "To prepare them for trade"],
                answer: "To cultivate their intellectual and moral virtues",
                category: "philosophy"
            },
            {
                question: "Plato believed that true knowledge is attained through what?",
                options: ["Sensory experience", "Divine revelation", "Rational thought and philosophical inquiry", "Social consensus"],
                answer: "Rational thought and philosophical inquiry",
                category: "philosophy"
            },
            {
                question: "What is the role of the 'auxiliary' class in Plato's ideal state?",
                options: ["To produce goods and services", "To defend the state", "To rule the state", "To provide entertainment"],
                answer: "To defend the state",
                category: "philosophy"
            },
            {
                question: "Plato's political philosophy emphasizes the importance of stability and order. What did he see as a major threat to these in a democracy?",
                options: ["Lack of wealth", "Too much freedom leading to anarchy", "Strong leadership", "External invasions"],
                answer: "Too much freedom leading to anarchy",
                category: "philosophy"
            },
            {
                question: "Which of the following best describes Plato's view on art and poetry in 'The Republic'?",
                options: ["He encouraged all forms of art", "He believed art was essential for emotional development", "He advocated for censorship of art that did not promote virtue", "He saw art as a direct path to truth"],
                answer: "He advocated for censorship of art that did not promote virtue",
                category: "philosophy"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let candidateName = '';
        let quizStarted = false;
        let timerInterval;
        let timeLeft = 20 * 60; // 20 minutes in seconds
        const userAnswers = new Array(quizData.length).fill(null);
        let quizAttempted = false;

        const loginScreen = document.getElementById('login-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const userIdInput = document.getElementById('user-id');
        const passwordInput = document.getElementById('password');
        const candidateNameInput = document.getElementById('candidate-name');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitQuizBtn = document.getElementById('submit-quiz-btn');
        const timerDisplay = document.getElementById('timer');
        const resultCandidateName = document.getElementById('result-candidate-name');
        const scoreDisplay = document.getElementById('score');
        const totalQuestionsDisplay = document.getElementById('total-questions');
        const percentageDisplay = document.getElementById('percentage');
        const timeTakenDisplay = document.getElementById('time-taken');
        const messageBox = document.getElementById('message-box');
        const messageText = document.getElementById('message-text');
        const messageOkBtn = document.getElementById('message-ok-btn');

        // Function to display a message box
        function showMessageBox(message) {
            messageText.textContent = message;
            messageBox.style.display = 'block';
        }

        // Function to hide the message box
        function hideMessageBox() {
            messageBox.style.display = 'none';
        }

        messageOkBtn.addEventListener('click', hideMessageBox);

        // Function to shuffle array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Shuffle quiz data once at the beginning
        shuffleArray(quizData);

        // Function to display current question
        function displayQuestion() {
            const question = quizData[currentQuestionIndex];
            questionText.textContent = `${currentQuestionIndex + 1}. ${question.question}`;
            optionsContainer.innerHTML = ''; // Clear previous options

            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('rounded-lg');
                button.addEventListener('click', () => selectOption(option, button));

                // If an answer was previously selected for this question, highlight it
                if (userAnswers[currentQuestionIndex] === option) {
                    button.classList.add('selected');
                }
                optionsContainer.appendChild(button);
            });

            updateNavigationButtons();
            applyPreviousSelectionHighlight();
        }

        // Function to apply highlighting based on previous selection
        function applyPreviousSelectionHighlight() {
            const selectedAnswer = userAnswers[currentQuestionIndex];
            if (selectedAnswer !== null) {
                const buttons = optionsContainer.querySelectorAll('button');
                buttons.forEach(button => {
                    button.disabled = true; // Disable all options after selection
                    if (button.textContent === selectedAnswer) {
                        if (selectedAnswer === quizData[currentQuestionIndex].answer) {
                            button.classList.add('correct');
                        } else {
                            button.classList.add('wrong');
                            // Highlight the correct answer if the selected one was wrong
                            buttons.forEach(btn => {
                                if (btn.textContent === quizData[currentQuestionIndex].answer) {
                                    btn.classList.add('correct');
                                }
                            });
                        }
                    }
                });
            }
        }

        // Function to handle option selection
        function selectOption(selectedOption, clickedButton) {
            if (quizAttempted) return; // Prevent re-answering after quiz submission

            userAnswers[currentQuestionIndex] = selectedOption;

            const buttons = optionsContainer.querySelectorAll('button');
            buttons.forEach(button => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('selected', 'correct', 'wrong'); // Clear previous highlights
            });

            const correctAnswer = quizData[currentQuestionIndex].answer;

            if (selectedOption === correctAnswer) {
                clickedButton.classList.add('correct');
            } else {
                clickedButton.classList.add('wrong');
                // Highlight the correct answer
                buttons.forEach(button => {
                    if (button.textContent === correctAnswer) {
                        button.classList.add('correct');
                    }
                });
            }
        }

        // Function to update navigation button visibility
        function updateNavigationButtons() {
            prevBtn.style.display = currentQuestionIndex > 0 ? 'inline-block' : 'none';
            nextBtn.style.display = currentQuestionIndex < quizData.length - 1 ? 'inline-block' : 'none';
            submitQuizBtn.style.display = currentQuestionIndex === quizData.length - 1 ? 'inline-block' : 'none';
        }

        // Event listener for Start Quiz button
        startQuizBtn.addEventListener('click', () => {
            const userId = userIdInput.value.trim();
            const password = passwordInput.value.trim();
            candidateName = candidateNameInput.value.trim();

            if (userId === '9922' && password === '2299') {
                if (candidateName) {
                    if (!quizAttempted) {
                        loginScreen.style.display = 'none';
                        quizScreen.style.display = 'block';
                        quizStarted = true;
                        startTimer();
                        displayQuestion();
                    } else {
                        showMessageBox("You have already attempted the quiz. You cannot restart.");
                    }
                } else {
                    showMessageBox("Please enter your name to start the quiz.");
                }
            } else {
                showMessageBox("Invalid ID or Password.");
            }
        });

        // Event listener for Previous button
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        });

        // Event listener for Next button
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        });

        // Event listener for Submit Quiz button
        submitQuizBtn.addEventListener('click', () => {
            if (quizAttempted) {
                showMessageBox("You have already submitted the quiz.");
                return;
            }
            clearInterval(timerInterval);
            calculateResult();
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'block';
            quizAttempted = true;
        });

        // Function to start the timer
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showMessageBox("Time's up! Submitting your quiz.");
                    calculateResult();
                    quizScreen.style.display = 'none';
                    resultScreen.style.display = 'block';
                    quizAttempted = true;
                }
            }, 1000);
        }

        // Function to calculate and display result
        function calculateResult() {
            score = 0;
            for (let i = 0; i < quizData.length; i++) {
                if (userAnswers[i] === quizData[i].answer) {
                    score++;
                }
            }

            const totalQuestions = quizData.length;
            const percentage = (score / totalQuestions) * 100;
            const timeTaken = (20 * 60) - timeLeft;
            const minutesTaken = Math.floor(timeTaken / 60);
            const secondsTaken = timeTaken % 60;

            resultCandidateName.textContent = candidateName;
            scoreDisplay.textContent = score;
            totalQuestionsDisplay.textContent = totalQuestions;
            percentageDisplay.textContent = percentage.toFixed(2);
            timeTakenDisplay.textContent = `Time Taken: ${minutesTaken} minutes and ${secondsTaken} seconds`;
        }

        // Initial setup on page load (ensure login screen is visible)
        document.addEventListener('DOMContentLoaded', () => {
            loginScreen.style.display = 'block';
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'none';
        });

    </script>
</body>
</html>
