<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Political Science Subject Specialist Preparation Quiz</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e0f2f7; /* Light blue background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 700px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .quiz-header {
            margin-bottom: 25px;
            width: 100%;
        }
        .quiz-header h1 {
            font-size: 2.2rem;
            color: #1e3a8a; /* Darker blue for title */
            margin-bottom: 10px;
            font-weight: 700;
        }
        .quiz-header p {
            font-size: 1rem;
            color: #3b82f6; /* Blue for contact */
            margin-bottom: 5px;
        }
        .quiz-header strong {
            color: #1e3a8a; /* Darker blue for bold text */
            font-size: 1.1rem;
        }
        .input-group {
            margin-bottom: 20px;
            width: 100%;
            max-width: 400px;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #1e3a8a;
            font-weight: 600;
            text-align: left;
        }
        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #93c5fd; /* Light blue border */
            border-radius: 8px;
            font-size: 1rem;
            color: #1e3a8a;
            transition: border-color 0.3s ease;
        }
        .input-group input:focus {
            outline: none;
            border-color: #3b82f6; /* Blue on focus */
        }
        .btn {
            background-color: #3b82f6; /* Blue button */
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: none;
        }
        .btn:hover {
            background-color: #2563eb; /* Darker blue on hover */
            transform: translateY(-2px);
        }
        .btn:disabled {
            background-color: #93c5fd;
            cursor: not-allowed;
            box-shadow: none;
        }
        .question-container {
            display: none;
            width: 100%;
            text-align: left;
        }
        .question-text {
            font-size: 1.3rem;
            color: #1e3a8a;
            margin-bottom: 25px;
            font-weight: 600;
            line-height: 1.6;
        }
        .options-container button {
            display: block;
            width: 100%;
            padding: 15px 20px;
            margin-bottom: 12px;
            background-color: #e0f2f7; /* Lighter blue for options */
            border: 2px solid #93c5fd;
            border-radius: 10px;
            text-align: left;
            font-size: 1.1rem;
            color: #1e3a8a;
            cursor: pointer;
            transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
            word-wrap: break-word; /* Ensure long sentences wrap */
            white-space: normal; /* Allow text to wrap */
        }
        .options-container button:hover:not(.correct):not(.wrong) {
            background-color: #c7e8f5;
            border-color: #3b82f6;
            transform: translateY(-2px);
        }
        .options-container button.correct {
            background-color: #b9fbc0; /* Green */
            border-color: #28a745;
            color: #1e3a8a;
            font-weight: 600;
        }
        .options-container button.wrong {
            background-color: #ffcdd2; /* Red */
            border-color: #dc3545;
            color: #1e3a8a;
            font-weight: 600;
        }
        .timer-container {
            font-size: 1.2rem;
            color: #dc3545; /* Red for timer */
            margin-bottom: 20px;
            font-weight: 700;
        }
        .result-container {
            display: none;
            width: 100%;
            padding: 20px;
            background-color: #e0f2f7;
            border-radius: 10px;
            margin-top: 20px;
            color: #1e3a8a;
        }
        .result-container h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #1e3a8a;
        }
        .result-container p {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .message-box {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
        }
        .message-box p {
            font-size: 1.1rem;
            color: #1e3a8a;
            margin-bottom: 20px;
        }
        .message-box button {
            background-color: #3b82f6;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
        }
        .message-box button:hover {
            background-color: #2563eb;
        }
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }
        .spinner {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #3b82f6;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .quiz-header h1 {
                font-size: 1.8rem;
            }
            .question-text {
                font-size: 1.1rem;
            }
            .options-container button {
                font-size: 0.95rem;
                padding: 12px 15px;
            }
            .btn {
                padding: 10px 20px;
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .quiz-container {
                padding: 20px;
            }
            .quiz-header h1 {
                font-size: 1.5rem;
            }
            .question-text {
                font-size: 1rem;
            }
            .options-container button {
                font-size: 0.9rem;
                padding: 10px 12px;
            }
            .input-group input {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <div class="quiz-container" id="quizContainer">
        <div class="quiz-header">
            <h1>Political Science Subject Specialist Preparation Quiz</h1>
            <p>Contact Number: 03188185185</p>
            <p><strong>Aristotle's Philosophy</strong></p>
        </div>

        <!-- Login Screen -->
        <div id="loginScreen" class="w-full flex flex-col items-center">
            <div class="input-group">
                <label for="idInput">ID:</label>
                <input type="text" id="idInput" placeholder="Enter your ID">
            </div>
            <div class="input-group">
                <label for="passwordInput">Password:</label>
                <input type="password" id="passwordInput" placeholder="Enter your password">
            </div>
            <button id="loginBtn" class="btn">Login</button>
            <p id="loginMessage" class="text-red-600 mt-3"></p>
        </div>

        <!-- Name Entry Screen -->
        <div id="nameScreen" class="w-full flex flex-col items-center hidden">
            <div class="input-group">
                <label for="candidateName">Your Name:</label>
                <input type="text" id="candidateName" placeholder="Enter your name">
            </div>
            <button id="startQuizBtn" class="btn">Start Quiz</button>
            <p id="nameMessage" class="text-red-600 mt-3"></p>
        </div>

        <!-- Quiz Screen -->
        <div id="quizScreen" class="question-container">
            <div class="timer-container" id="timer">Time Left: 20:00</div>
            <div class="question-text" id="questionText"></div>
            <div class="options-container" id="optionsContainer">
                <!-- Options will be dynamically loaded here -->
            </div>
            <button id="nextBtn" class="btn mt-6 hidden">Next Question</button>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="result-container">
            <h2>Quiz Result</h2>
            <p>Candidate: <span id="finalCandidateName"></span></p>
            <p>Score: <span id="scoreDisplay"></span> / <span id="totalQuestionsDisplay"></span></p>
            <p>Percentage: <span id="percentageDisplay"></span>%</p>
            <p id="timeTakenDisplay"></p>
        </div>
    </div>

    <!-- Custom Message Box -->
    <div id="messageBox" class="message-box">
        <p id="messageBoxText"></p>
        <button id="messageBoxCloseBtn">OK</button>
    </div>

    <script>
        const quizData = [
            {
                question: "Aristotle was born in Stagira on the borders of Macedonia to parents of which origin?",
                options: ["Roman origin", "Greek origin", "Ionian origin", "Egyptian origin"],
                correct: "Ionian origin",
                category: "early_life"
            },
            {
                question: "At what age did Aristotle attach himself to Plato's Academy?",
                options: ["17 years old", "20 years old", "25 years old", "30 years old"],
                correct: "17 years old",
                category: "early_life"
            },
            {
                question: "What was the name of Aristotle's father, who was a physician of note and ultimately appointed to the Macedonian court?",
                options: ["Plato", "Nicomachus", "Socrates", "Alexander"],
                correct: "Nicomachus",
                category: "early_life"
            },
            {
                question: "Aristotle remained at Plato's Academy for a period of how many years?",
                options: ["10 years", "15 years", "20 years", "25 years"],
                correct: "20 years",
                category: "early_life"
            },
            {
                question: "Who was Aristotle's unofficial adviser of Hermias for several years?",
                options: ["Plato", "Alexander", "Hermias", "Theophrastus"],
                correct: "Hermias",
                category: "early_life"
            },
            {
                question: "Which work of Plato did Aristotle engage in when he was in Athens, compiling material for his last major work?",
                options: ["Republic", "Symposium", "Laws", "Phaedo"],
                correct: "Laws",
                category: "work_writings"
            },
            {
                question: "Aristotle's most important work on politics is titled:",
                options: ["The Republic", "The Politics", "Nicomachean Ethics", "Metaphysics"],
                correct: "The Politics",
                category: "work_writings"
            },
            {
                question: "Which of Aristotle's works deals with the ethical framework for achieving human flourishing?",
                options: ["Rhetoric", "Poetics", "Nicomachean Ethics", "On the Soul"],
                correct: "Nicomachean Ethics",
                category: "work_writings"
            },
            {
                question: "Aristotle's work 'Categories' is primarily concerned with:",
                options: ["Logic and classification of being", "The nature of the soul", "Political systems", "Poetic forms"],
                correct: "Logic and classification of being",
                category: "work_writings"
            },
            {
                question: "The treatise 'On the Soul' by Aristotle explores:",
                options: ["The structure of the ideal state", "The principles of rhetoric", "The nature of living beings and their faculties", "The causes of revolution"],
                correct: "The nature of living beings and their faculties",
                category: "work_writings"
            },
            {
                question: "According to Aristotle, 'Man is by nature a political animal.' What does this imply?",
                options: ["Humans are meant to rule over others.", "Humans thrive in isolation.", "Humans are inherently social and political beings.", "Humans are primarily driven by self-interest."],
                correct: "Humans are inherently social and political beings.",
                category: "quotation"
            },
            {
                question: "Aristotle stated, 'The roots of education are bitter, but the fruit is sweet.' What is the essence of this quote?",
                options: ["Education is inherently unpleasant.", "Learning requires effort but yields valuable rewards.", "Only sweet subjects should be taught.", "Education is a quick and easy process."],
                correct: "Learning requires effort but yields valuable rewards.",
                category: "quotation"
            },
            {
                question: "Aristotle said, 'It is the mark of an educated mind to be able to entertain a thought without accepting it.' This emphasizes:",
                options: ["The importance of blind acceptance.", "The necessity of critical thinking and open-mindedness.", "That all thoughts are equally valid.", "The rejection of new ideas."],
                correct: "The necessity of critical thinking and open-mindedness.",
                category: "quotation"
            },
            {
                question: "Which of the following best reflects Aristotle's quote: 'We are what we repeatedly do. Excellence, then, is not an act, but a habit.'?",
                options: ["Success is a matter of luck.", "Excellence is achieved through single, grand gestures.", "Virtue and skill are developed through consistent practice.", "One should only focus on the outcome, not the process."],
                correct: "Virtue and skill are developed through consistent practice.",
                category: "quotation"
            },
            {
                question: "Aristotle's statement, 'Poverty is the parent of revolution and crime,' highlights his view on:",
                options: ["The moral failings of the poor.", "The economic causes of social instability.", "The necessity of a strong police force.", "The benefits of extreme wealth inequality."],
                correct: "The economic causes of social instability.",
                category: "quotation"
            },
            {
                question: "Aristotle believed that the ultimate goal of human life is:",
                options: ["Wealth accumulation", "Political power", "Eudaimonia (flourishing or living well)", "Pleasure seeking"],
                correct: "Eudaimonia (flourishing or living well)",
                category: "philosophy"
            },
            {
                question: "Which of these is NOT considered one of Aristotle's 'right' kinds of constitution?",
                options: ["Monarchy", "Tyranny", "Aristocracy", "Polity"],
                correct: "Tyranny",
                category: "philosophy"
            },
            {
                question: "Aristotle's concept of the 'Golden Mean' suggests that virtue lies:",
                options: ["In extremes of behavior", "In moderation between two vices", "In avoiding all action", "In following strict rules without deviation"],
                correct: "In moderation between two vices",
                category: "philosophy"
            },
            {
                question: "According to Aristotle, what is the highest form of organization in the community?",
                options: ["The family", "The village", "The city-state (polis)", "The empire"],
                correct: "The city-state (polis)",
                category: "philosophy"
            },
            {
                question: "Aristotle's theory of causation includes four types of causes. Which of the following is NOT one of them?",
                options: ["Material cause", "Efficient cause", "Accidental cause", "Final cause"],
                correct: "Accidental cause",
                category: "philosophy"
            },
            {
                question: "Aristotle argued that the best practical state is one that finds a working balance of liberty and authority. This is a characteristic of his ideal state, which he calls:",
                options: ["Democracy", "Oligarchy", "Polity", "Aristocracy"],
                correct: "Polity",
                category: "philosophy"
            },
            {
                question: "What did Aristotle consider the 'end' or purpose of the state?",
                options: ["To ensure economic prosperity for all citizens.", "To facilitate the good life and moral perfection of its citizens.", "To expand its territory and power.", "To maintain social order at all costs."],
                correct: "To facilitate the good life and moral perfection of its citizens.",
                category: "philosophy"
            },
            {
                question: "Aristotle's view on property was that it should be:",
                options: ["Held in common by all citizens.", "Abolished entirely to prevent conflict.", "Private, but used in common to some extent.", "Controlled solely by the state."],
                correct: "Private, but used in common to some extent.",
                category: "philosophy"
            },
            {
                question: "Aristotle believed that education should aim at:",
                options: ["Developing physical strength above all else.", "Instilling obedience and military discipline.", "Cultivating moral character and intellectual virtues.", "Preparing individuals for specific trades."],
                correct: "Cultivating moral character and intellectual virtues.",
                category: "philosophy"
            },
            {
                question: "In Aristotle's political philosophy, which group is considered the 'middle class'?",
                options: ["The extremely wealthy", "The very poor", "Those with moderate wealth, balancing rich and poor", "Only philosophers and rulers"],
                correct: "Those with moderate wealth, balancing rich and poor",
                category: "philosophy"
            },
            {
                question: "Aristotle's concept of justice is primarily concerned with:",
                options: ["Strict equality in all aspects.", "Distributive justice (fair distribution of goods) and corrective justice (rectifying wrongs).", "Revenge for past wrongs.", "Maintaining the status quo regardless of fairness."],
                correct: "Distributive justice (fair distribution of goods) and corrective justice (rectifying wrongs).",
                category: "philosophy"
            },
            {
                question: "What is the primary difference between Aristotle's ideal state and Plato's ideal state (as described in the document)?",
                options: ["Aristotle emphasized a more practical, achievable state, while Plato focused on a theoretical ideal.", "Aristotle believed in philosopher-kings, while Plato did not.", "Aristotle advocated for communism, while Plato supported private property.", "Aristotle focused on individual rights, while Plato prioritized the collective."],
                correct: "Aristotle emphasized a more practical, achievable state, while Plato focused on a theoretical ideal.",
                category: "philosophy"
            },
            {
                question: "Aristotle's view on slavery was that it was:",
                options: ["Completely unjust and should be abolished.", "A natural institution where some are naturally suited to be masters and others slaves.", "A temporary condition that should be overcome.", "Only acceptable for foreign captives of war."],
                correct: "A natural institution where some are naturally suited to be masters and others slaves.",
                category: "philosophy"
            },
            {
                question: "Which of the following is a key element of Aristotle's theory of development in states?",
                options: ["States always progress towards democracy.", "States are natural institutions that grow and develop like living organisms.", "States are purely artificial constructs.", "States are static and do not change over time."],
                correct: "States are natural institutions that grow and develop like living organisms.",
                category: "philosophy"
            },
            {
                question: "Aristotle believed that the best form of government for most states, given their practical realities, is a mixed constitution, which he often referred to as:",
                options: ["Tyranny", "Oligarchy", "Polity", "Democracy"],
                correct: "Polity",
                category: "philosophy"
            },
            {
                question: "What did Aristotle consider the most important function of the legislator?",
                options: ["To accumulate wealth for the state.", "To maintain existing laws without change.", "To improve the qualities of citizens and achieve the good life.", "To engage in constant warfare."],
                correct: "To improve the qualities of citizens and achieve the good life.",
                category: "philosophy"
            },
            {
                question: "Aristotle's criticism of Plato's ideal state included the argument that Plato's communism of property and family would lead to:",
                options: ["Greater unity and social harmony.", "Increased individual freedom.", "Lack of affection and responsibility.", "More efficient governance."],
                correct: "Lack of affection and responsibility.",
                category: "philosophy"
            },
            {
                question: "According to Aristotle, what is the primary purpose of law?",
                options: ["To punish wrongdoers severely.", "To ensure the happiness and virtue of citizens.", "To protect the interests of the ruling class.", "To facilitate trade and commerce."],
                correct: "To ensure the happiness and virtue of citizens.",
                category: "philosophy"
            },
            {
                question: "Aristotle's concept of 'magnanimity' (greatness of soul) is a virtue that involves:",
                options: ["Being excessively proud and arrogant.", "Having a proper sense of one's own worth and deserving great things.", "Ignoring the opinions of others.", "Being overly humble and self-deprecating."],
                correct: "Having a proper sense of one's own worth and deserving great things.",
                category: "philosophy"
            },
            {
                question: "Which of the following best describes Aristotle's approach to studying politics?",
                options: ["Purely theoretical and idealistic.", "Empirical and practical, based on observations of existing states.", "Focused solely on historical analysis.", "Primarily concerned with abstract mathematical models."],
                correct: "Empirical and practical, based on observations of existing states.",
                category: "philosophy"
            },
            {
                question: "Aristotle believed that the best form of government is one that aims at the common good. Which of these 'perverted' forms aims at the good of the rulers only?",
                options: ["Monarchy", "Aristocracy", "Polity", "Tyranny"],
                correct: "Tyranny",
                category: "philosophy"
            },
            {
                question: "What role did Aristotle assign to the middle class in maintaining constitutional stability?",
                options: ["They are a source of constant revolution.", "They are irrelevant to political stability.", "They provide balance and prevent extremes of oligarchy and democracy.", "They always side with the wealthy."],
                correct: "They provide balance and prevent extremes of oligarchy and democracy.",
                category: "philosophy"
            },
            {
                question: "Aristotle argued that a state should be self-sufficient. What does this 'self-sufficiency' primarily refer to?",
                options: ["Economic independence only.", "Ability to defend itself militarily.", "Providing all necessary goods and services for its citizens to live a good life.", "Isolation from other states."],
                correct: "Providing all necessary goods and services for its citizens to live a good life.",
                category: "philosophy"
            },
            {
                question: "In Aristotle's view, the purpose of human association in a political community is to achieve:",
                options: ["Maximum individual freedom.", "The highest form of wealth.", "A good and virtuous life.", "Absolute power for the rulers."],
                correct: "A good and virtuous life.",
                category: "philosophy"
            },
            {
                question: "Aristotle's theory of virtue emphasizes the development of character through:",
                options: ["Strict adherence to religious dogma.", "Innate abilities that cannot be changed.", "Habit and practice of virtuous actions.", "Sudden moments of enlightenment."],
                correct: "Habit and practice of virtuous actions.",
                category: "philosophy"
            },
            {
                question: "Aristotle's concept of 'distributive justice' is concerned with:",
                options: ["Punishing criminals fairly.", "The fair allocation of honors, wealth, and other goods among citizens.", "Ensuring equal pay for all jobs.", "Providing charity to the poor."],
                correct: "The fair allocation of honors, wealth, and other goods among citizens.",
                category: "philosophy"
            },
            {
                question: "What was Aristotle's stance on the importance of law in a state?",
                options: ["Laws are unnecessary if rulers are virtuous.", "Law is essential for stability and good governance, guiding citizens towards virtue.", "Laws should be frequently changed to adapt to new circumstances.", "Laws are only for the lower classes."],
                correct: "Law is essential for stability and good governance, guiding citizens towards virtue.",
                category: "philosophy"
            },
            {
                question: "Aristotle believed that the best constitution is one that is suitable for the majority of states, considering their practical realities. This pragmatic approach contrasts with Plato's focus on:",
                options: ["Empirical observation.", "The ideal, perfect state.", "The role of the military.", "Economic factors."],
                correct: "The ideal, perfect state.",
                category: "philosophy"
            },
            {
                question: "Which of the following is a 'right' form of government according to Aristotle, where rule is by the many for the common good?",
                options: ["Democracy (as mob rule)", "Oligarchy", "Polity", "Tyranny"],
                correct: "Polity",
                category: "philosophy"
            },
            {
                question: "Aristotle's political thought emphasizes the importance of the 'polis' (city-state) as:",
                options: ["Merely a collection of individuals.", "The highest form of human association for achieving the good life.", "A temporary arrangement for defense.", "A system designed for economic exploitation."],
                correct: "The highest form of human association for achieving the good life.",
                category: "philosophy"
            },
            {
                question: "What did Aristotle consider the primary reason for the decline of states?",
                options: ["External invasions.", "Lack of economic resources.", "Internal instability and factionalism.", "Too much freedom for citizens."],
                correct: "Internal instability and factionalism.",
                category: "philosophy"
            },
            {
                question: "Aristotle's concept of the 'citizen' was primarily defined by their ability to:",
                options: ["Accumulate wealth.", "Participate in the political life of the polis.", "Serve in the military.", "Engage in philosophical debate."],
                correct: "Participate in the political life of the polis.",
                category: "philosophy"
            },
            {
                question: "According to Aristotle, what is the relationship between ethics and politics?",
                options: ["They are entirely separate fields.", "Ethics is a branch of politics, as the good life for individuals is achieved within the political community.", "Politics is superior to ethics.", "Ethics only applies to private life, not public life."],
                correct: "Ethics is a branch of politics, as the good life for individuals is achieved within the political community.",
                category: "philosophy"
            },
            {
                question: "Aristotle's view on the family was that it is:",
                options: ["An outdated institution.", "The fundamental unit of the state, essential for its stability.", "A hindrance to individual freedom.", "Only for procreation."],
                correct: "The fundamental unit of the state, essential for its stability.",
                category: "philosophy"
            },
            {
                question: "What is the role of 'reason' in Aristotle's philosophy?",
                options: ["It is irrelevant to human conduct.", "It is the highest human faculty, guiding us towards virtue and understanding.", "It is only for philosophers, not ordinary people.", "It leads to emotional detachment."],
                correct: "It is the highest human faculty, guiding us towards virtue and understanding.",
                category: "philosophy"
            },
            {
                question: "Aristotle believed that the best form of government is determined by:",
                options: ["A universal ideal that applies everywhere.", "The specific circumstances and character of the people in a given state.", "The wealth of the ruling class.", "Military strength."],
                correct: "The specific circumstances and character of the people in a given state.",
                category: "philosophy"
            },
            {
                question: "What is the primary aim of Aristotle's 'Politics'?",
                options: ["To describe the perfect, unattainable state.", "To analyze existing political systems and identify the best practical forms of government.", "To advocate for a specific type of revolution.", "To provide a historical account of ancient Greek city-states."],
                correct: "To analyze existing political systems and identify the best practical forms of government.",
                category: "philosophy"
            },
            {
                question: "Aristotle's idea of 'happiness' (eudaimonia) is best described as:",
                options: ["A fleeting emotion of pleasure.", "A state of contentment achieved through material possessions.", "A lifelong activity of living in accordance with virtue and reason.", "A passive state of being free from pain."],
                correct: "A lifelong activity of living in accordance with virtue and reason.",
                category: "philosophy"
            },
            {
                question: "Which of these is a 'perverted' form of rule by the few, according to Aristotle?",
                options: ["Aristocracy", "Oligarchy", "Polity", "Monarchy"],
                correct: "Oligarchy",
                category: "philosophy"
            },
            {
                question: "Aristotle argued that a good constitution should aim to balance:",
                options: ["Wealth and poverty.", "Freedom and tyranny.", "The interests of the rich and the poor.", "Agriculture and industry."],
                correct: "The interests of the rich and the poor.",
                category: "philosophy"
            },
            {
                question: "What did Aristotle consider the most important factor for maintaining constitutional stability?",
                options: ["A strong military.", "Economic equality.", "A large and influential middle class.", "Frequent changes in leadership."],
                correct: "A large and influential middle class.",
                category: "philosophy"
            },
            {
                question: "Aristotle's view on the purpose of the state is teleological, meaning it is focused on:",
                options: ["Its historical origins.", "Its final end or purpose.", "Its current economic status.", "Its military power."],
                correct: "Its final end or purpose.",
                category: "philosophy"
            },
            {
                question: "According to Aristotle, the 'rule of law' is crucial because:",
                options: ["It allows rulers to act arbitrarily.", "It ensures stability and prevents rule by arbitrary will.", "It leads to constant revolution.", "It is only for the wealthy."],
                correct: "It ensures stability and prevents rule by arbitrary will.",
                category: "philosophy"
            },
            {
                question: "Aristotle's ethical theory is primarily concerned with:",
                options: ["Determining what actions are morally right or wrong in themselves.", "The character of the moral agent and the development of virtues.", "The consequences of actions.", "Divine commands."],
                correct: "The character of the moral agent and the development of virtues.",
                category: "philosophy"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 20 * 60; // 20 minutes in seconds
        let quizStartTime;
        let candidateName = "";
        let quizAttempted = false; // Flag to prevent restarting

        const loginScreen = document.getElementById('loginScreen');
        const nameScreen = document.getElementById('nameScreen');
        const quizScreen = document.getElementById('quizScreen');
        const resultScreen = document.getElementById('resultScreen');
        const idInput = document.getElementById('idInput');
        const passwordInput = document.getElementById('passwordInput');
        const loginBtn = document.getElementById('loginBtn');
        const loginMessage = document.getElementById('loginMessage');
        const candidateNameInput = document.getElementById('candidateName');
        const startQuizBtn = document.getElementById('startQuizBtn');
        const nameMessage = document.getElementById('nameMessage');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const nextBtn = document.getElementById('nextBtn');
        const timerDisplay = document.getElementById('timer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const totalQuestionsDisplay = document.getElementById('totalQuestionsDisplay');
        const percentageDisplay = document.getElementById('percentageDisplay');
        const finalCandidateNameDisplay = document.getElementById('finalCandidateName');
        const timeTakenDisplay = document.getElementById('timeTakenDisplay');
        const messageBox = document.getElementById('messageBox');
        const messageBoxText = document.getElementById('messageBoxText');
        const messageBoxCloseBtn = document.getElementById('messageBoxCloseBtn');
        const loadingOverlay = document.getElementById('loadingOverlay');

        const correctID = "5544";
        const correctPassword = "4455";

        // Shuffle questions and options
        let shuffledQuizData = [];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function generateShuffledQuiz() {
            const earlyLife = quizData.filter(q => q.category === 'early_life');
            const workWritings = quizData.filter(q => q.category === 'work_writings');
            const quotations = quizData.filter(q => q.category === 'quotation');
            const philosophy = quizData.filter(q => q.category === 'philosophy');

            shuffleArray(earlyLife);
            shuffleArray(workWritings);
            shuffleArray(quotations);
            shuffleArray(philosophy);

            // Ensure minimum percentages
            const numEarlyLife = Math.ceil(0.05 * quizData.length);
            const numWorkWritings = Math.ceil(0.05 * quizData.length);
            const numQuotations = Math.ceil(0.10 * quizData.length);

            shuffledQuizData = [];
            shuffledQuizData.push(...earlyLife.slice(0, numEarlyLife));
            shuffledQuizData.push(...workWritings.slice(0, numWorkWritings));
            shuffledQuizData.push(...quotations.slice(0, numQuotations));

            // Fill remaining with philosophy questions, ensuring no duplicates
            const philosophyToAdd = philosophy.filter(q =>
                !shuffledQuizData.some(sq => sq.question === q.question)
            );
            shuffledQuizData.push(...philosophyToAdd);

            // If still less than 40, add more philosophy or other categories until 40
            let safetyCounter = 0;
            while (shuffledQuizData.length < 40 && safetyCounter < 100) { // Safety break
                const remainingPhilosophy = philosophy.filter(q =>
                    !shuffledQuizData.some(sq => sq.question === q.question)
                );
                if (remainingPhilosophy.length > 0) {
                    shuffledQuizData.push(remainingPhilosophy[0]);
                } else {
                    // If philosophy runs out, add from other categories again
                    const allRemaining = quizData.filter(q =>
                        !shuffledQuizData.some(sq => sq.question === q.question)
                    );
                    if (allRemaining.length > 0) {
                        shuffledQuizData.push(allRemaining[0]);
                    } else {
                        break; // No more unique questions
                    }
                }
                safetyCounter++;
            }

            // Final shuffle of the combined list
            shuffleArray(shuffledQuizData);

            // Shuffle options for each question
            shuffledQuizData.forEach(q => shuffleArray(q.options));
        }

        function showMessageBox(message) {
            messageBoxText.textContent = message;
            messageBox.style.display = 'block';
        }

        messageBoxCloseBtn.addEventListener('click', () => {
            messageBox.style.display = 'none';
        });

        loginBtn.addEventListener('click', () => {
            const enteredID = idInput.value;
            const enteredPassword = passwordInput.value;

            if (enteredID === correctID && enteredPassword === correctPassword) {
                loginScreen.classList.add('hidden');
                nameScreen.classList.remove('hidden');
                loginMessage.textContent = '';
            } else {
                loginMessage.textContent = 'Invalid ID or Password.';
            }
        });

        startQuizBtn.addEventListener('click', () => {
            if (quizAttempted) {
                showMessageBox("You have already attempted the quiz and cannot restart it.");
                return;
            }

            candidateName = candidateNameInput.value.trim();
            if (candidateName === "") {
                nameMessage.textContent = "Please enter your name to start the quiz.";
                return;
            }

            nameScreen.classList.add('hidden');
            quizScreen.style.display = 'block';
            quizAttempted = true; // Mark quiz as attempted

            generateShuffledQuiz(); // Generate and shuffle quiz data
            loadQuestion();
            startTimer();
            quizStartTime = new Date();
        });

        function loadQuestion() {
            if (currentQuestionIndex < shuffledQuizData.length) {
                const question = shuffledQuizData[currentQuestionIndex];
                questionText.textContent = question.question;
                optionsContainer.innerHTML = '';
                nextBtn.classList.add('hidden'); // Hide next button until an option is selected

                question.options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('rounded-lg', 'font-medium', 'text-base');
                    button.addEventListener('click', () => selectOption(button, option, question.correct));
                    optionsContainer.appendChild(button);
                });
            } else {
                endQuiz();
            }
        }

        function selectOption(selectedButton, selectedOption, correctAnswer) {
            // Disable all options after selection
            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
            });

            if (selectedOption === correctAnswer) {
                selectedButton.classList.add('correct');
                score++;
            } else {
                selectedButton.classList.add('wrong');
                // Find and highlight the correct answer
                Array.from(optionsContainer.children).forEach(button => {
                    if (button.textContent === correctAnswer) {
                        button.classList.add('correct');
                    }
                });
            }
            nextBtn.classList.remove('hidden'); // Show next button
        }

        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            loadQuestion();
        });

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    endQuiz();
                    showMessageBox("Time's up! The quiz has ended.");
                }
            }, 1000);
        }

        function endQuiz() {
            clearInterval(timer);
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'block';

            const quizEndTime = new Date();
            const timeTaken = Math.floor((quizEndTime - quizStartTime) / 1000); // Time in seconds
            const minutesTaken = Math.floor(timeTaken / 60);
            const secondsTaken = timeTaken % 60;

            finalCandidateNameDisplay.textContent = candidateName;
            scoreDisplay.textContent = score;
            totalQuestionsDisplay.textContent = shuffledQuizData.length;
            const percentage = (score / shuffledQuizData.length) * 100;
            percentageDisplay.textContent = percentage.toFixed(2);
            timeTakenDisplay.textContent = `Time Taken: ${minutesTaken} minutes and ${secondsTaken} seconds`;

            // Disable start button permanently after quiz ends
            startQuizBtn.disabled = true;
        }

        // Show loading overlay initially while content loads (though for local HTML it's quick)
        window.addEventListener('load', () => {
            loadingOverlay.style.display = 'none';
        });

    </script>
</body>
</html>
